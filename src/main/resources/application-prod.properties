# ===================================================
# PERFIL DE PRODUCCIÓN - Render + S3 + CloudFront
# ===================================================

# --- Base de Datos PostgreSQL (Render) ---
# Render provee DATABASE_URL en formato: postgres://user:pass@host:port/db
# Spring puede parsearlo automáticamente o usar las variables separadas
spring.datasource.url=${JDBC_DATABASE_URL:${DATABASE_URL}}
spring.datasource.username=${DATABASE_USERNAME:}
spring.datasource.password=${DATABASE_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false

# --- AWS S3 ---
aws.s3.bucket=${S3_BUCKET_NAME:campamento-san-pablo-fotos}
aws.region=${AWS_REGION:sa-east-1}
aws.cloudfront.url=${AWS_CLOUDFRONT_URL:https://d3bu2wb9bvmk3d.cloudfront.net}

# --- JWT ---
jwt.secret-key=${JWT_SECRET_KEY:404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970}
jwt.expiration=${JWT_EXPIRATION:86400000}

# --- Subida de archivos ---
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# --- Deshabilitar H2 consola en producción ---
spring.h2.console.enabled=false

# --- Swagger (deshabilitar en producción si lo deseas) ---
# springdoc.api-docs.enabled=false
# springdoc.swagger-ui.enabled=false

# --- Servidor ---
server.port=${PORT:8080}
